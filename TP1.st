Object subclass: #AlgoChat	instanceVariableNames: 'usuarios canales conversaciones'	classVariableNames: ''	poolDictionaries: ''	category: 'AlgoChat'!!AlgoChat methodsFor: 'initialization' stamp: 'Andoni 10/17/2019 10:53'!initialize 	usuarios := Dictionary new.	canales := Dictionary new.	conversaciones := Dictionary new.! !!AlgoChat methodsFor: 'conversacion' stamp: 'Andoni 10/17/2019 11:21'!getMensajesDeConversacion: unosUsuarios	| conversacionBuscada |	conversacionBuscada := conversaciones at: unosUsuarios.		^( conversacionBuscada getMensaje ).! !!AlgoChat methodsFor: 'conversacion' stamp: 'Andoni 10/17/2019 10:56'!crearConversacionConUsuarios: nombresDeUsuarios	| conversacion |	conversacion := Conversacion new.	conversacion setUsuarios: usuarios.		conversaciones at: nombresDeUsuarios put: conversacion.! !!AlgoChat methodsFor: 'conversacion' stamp: 'Andoni 10/17/2019 11:17'!publicarMensaje: unMensaje enConversacion: unosUsuarios	| conversacion |	conversacion := conversaciones at: unosUsuarios.		conversacion agregarMensaje: unMensaje enConversacion: unosUsuarios.! !!AlgoChat methodsFor: 'mensaje' stamp: 'Andoni 10/17/2019 09:46'!enviarMensaje: unMensaje aUsuario: unNombre	| usuarioBuscado |	usuarioBuscado := usuarios at: unNombre.		usuarioBuscado agregarMensaje: unMensaje.! !!AlgoChat methodsFor: 'mensaje' stamp: 'Andoni 10/17/2019 19:14'!publicarMensaje: unMensaje enCanal: unNombre	| canalBuscado |	canalBuscado := canales at: unNombre.		canalBuscado agregarMensaje: unMensaje enCanal: unNombre.! !!AlgoChat methodsFor: 'adding' stamp: 'Andoni 10/17/2019 19:24'!agregarUsuario: unUsuario alCanal: unCanal	| usuarioBuscado canalBuscado|	usuarioBuscado := usuarios at: unUsuario.	canalBuscado := canales at: unCanal.		usuarioBuscado agregarCanalAsociado: unCanal.	canalBuscado agregarUsuarioAlCanal: usuarioBuscado.	! !!AlgoChat methodsFor: 'adding' stamp: 'Andoni 10/17/2019 11:11'!agregarUsuarioConNombre: unNombre	| usuario |	usuario := Usuario new.	usuario setNombre: unNombre.		usuarios at: unNombre put: usuario.! !!AlgoChat methodsFor: 'adding' stamp: 'Andoni 10/17/2019 10:17'!agregarCanalConNombre: unNombre	| canal |	canal := Canal new.		canales at: unNombre put: canal.! !!AlgoChat methodsFor: 'adding' stamp: 'Andoni 10/17/2019 14:21'!agregarPalabraClave: unaPalabra alUsuario: unNombre	| usuarioBuscado |	usuarioBuscado := usuarios at: unNombre.		usuarioBuscado agregarPalabraClave: unaPalabra.! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 19:31'!reanudarPalabrasDeCanal: unCanal paraUsuario: unUsuario	| usuarioBuscado |	usuarioBuscado := usuarios at: unUsuario.		usuarioBuscado eliminarCanalPausado: unCanal.! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 09:40'!getCantidadCanales	^( canales size ).! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 09:51'!getNotificacionesDeUsuario: unNombre	| usuarioBuscado |	usuarioBuscado := usuarios at: unNombre.		^( usuarioBuscado getMensaje ).! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 09:39'!getCantidadUsuarios	^( usuarios size ).! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 10:23'!mensajesDelCanal: unNombre	| canalBuscado |	canalBuscado := canales at: unNombre.		^( canalBuscado getMensaje ).! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 10:12'!getNotificacionesDeUsuario: unNombre resumidasALongitud: unaLongitud	| usuarioBuscado |	usuarioBuscado := usuarios at: unNombre.		^( usuarioBuscado getMensajeConLongitud: unaLongitud ).! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 10:27'!mensajesDelCanal: unNombre resumidosALongitud: unaLongitud	| canalBuscado |	canalBuscado := canales at: unNombre.		^( canalBuscado getMensajeConLongitud: unaLongitud ).! !!AlgoChat methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 19:01'!pausarPalabrasDeCanal: unCanal paraUsuario: unUsuario	| usuarioBuscado |	usuarioBuscado := usuarios at: unUsuario.		usuarioBuscado agregarCanalPausado: unCanal.! !Object subclass: #Canal	instanceVariableNames: 'mensajeRecibido formatoDeMensaje usuariosDeCanal'	classVariableNames: ''	poolDictionaries: ''	category: 'AlgoChat'!!Canal methodsFor: 'initialization' stamp: 'Andoni 10/17/2019 14:02'!initialize 	mensajeRecibido := OrderedCollection new.	formatoDeMensaje := FormatoDeMensaje new.	usuariosDeCanal := OrderedCollection new.! !!Canal methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 12:54'!setUsuariosDeCanal: usuarios	usuariosDeCanal := usuarios.! !!Canal methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 10:26'!getMensajeConLongitud: unaLongitud	^( formatoDeMensaje formatearColeccion: mensajeRecibido conLongitud: unaLongitud ).! !!Canal methodsFor: 'accesing' stamp: 'Andoni 10/17/2019 10:22'!getMensaje	^ ( formatoDeMensaje formatearColeccion: mensajeRecibido ).! !!Canal methodsFor: 'adding' stamp: 'Andoni 10/17/2019 19:16'!agregarMensaje: unMensaje enCanal: unCanal	| listaDeMensaje |	mensajeRecibido add: unMensaje.	listaDeMensaje := unMensaje splitOn: ' '.		usuariosDeCanal do:[ :unUsuario | (listaDeMensaje includes: ('@',unUsuario getNombre)) ifTrue: [ 			unUsuario agregarMensaje: unMensaje ]					ifFalse: [ unUsuario  agregarMensajePorPalabraClave: unMensaje DeCanal: unCanal ].	].	! !!Canal methodsFor: 'adding' stamp: 'Andoni 10/17/2019 19:15'!agregarMensaje: unMensaje	mensajeRecibido add: unMensaje.	! !!Canal methodsFor: 'adding' stamp: 'Andoni 10/17/2019 14:03'!agregarUsuarioAlCanal: unUsuario	usuariosDeCanal add: unUsuario.! !Object subclass: #Conversacion	instanceVariableNames: 'mensajesDeConversacion coleccionDeUsuarios formatoDeMensaje'	classVariableNames: ''	poolDictionaries: ''	category: 'AlgoChat'!!Conversacion methodsFor: 'adding' stamp: 'Andoni 10/17/2019 11:14'!agregarMensaje: unMensaje enConversacion: unaConversacion	| listaDeUsuarios |	listaDeUsuarios := unaConversacion splitOn: ','.	mensajesDeConversacion add: unMensaje.		coleccionDeUsuarios do:[ :unUsuario | ( listaDeUsuarios includes: (unUsuario getNombre) ) ifTrue:[			unUsuario agregarMensaje: unMensaje ].	]! !!Conversacion methodsFor: 'initialization' stamp: 'Andoni 10/17/2019 11:18'!initialize	mensajesDeConversacion := OrderedCollection new.	formatoDeMensaje := FormatoDeMensaje new.	! !!Conversacion methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 11:00'!setUsuarios: usuarios  coleccionDeUsuarios := usuarios.! !!Conversacion methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 11:19'!getMensaje	^( formatoDeMensaje formatearColeccion: mensajesDeConversacion ).! !Object subclass: #FormatoDeMensaje	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'AlgoChat'!!FormatoDeMensaje methodsFor: 'formatting' stamp: 'Andoni 10/17/2019 09:50'!formatearColeccion: unaColeccion	^( unaColeccion joinUsing: ' | ' ).! !!FormatoDeMensaje methodsFor: 'formatting' stamp: 'Andoni 10/17/2019 10:08'!formatearColeccion: unaColeccion conLongitud: unaLongitud	| mensajeRecortado |	mensajeRecortado := unaColeccion collect:[ :elemento | (elemento contractTo: unaLongitud),'...' ].		^( self formatearColeccion: mensajeRecortado ).! !Object subclass: #Usuario	instanceVariableNames: 'nombre mensajeRecibido formatoDeMensaje canalesAsociados palabrasClave canalesPausados'	classVariableNames: ''	poolDictionaries: ''	category: 'AlgoChat'!!Usuario methodsFor: 'adding' stamp: 'Andoni 10/17/2019 09:45'!agregarMensaje: unMensaje	mensajeRecibido add: unMensaje.! !!Usuario methodsFor: 'adding' stamp: 'Andoni 10/17/2019 19:23'!agregarCanalAsociado: unCanal	canalesAsociados add: unCanal.! !!Usuario methodsFor: 'adding' stamp: 'Andoni 10/17/2019 18:59'!agregarCanalPausado: unCanal	canalesPausados add: unCanal.! !!Usuario methodsFor: 'adding' stamp: 'Andoni 10/17/2019 14:29'!agregarMensajePorPalabraClave: unMensaje	(self seEncuentraPalabraClaveEn: unMensaje) ifTrue:[				self agregarMensaje: unMensaje ].! !!Usuario methodsFor: 'adding' stamp: 'Andoni 10/17/2019 19:21'!agregarMensajePorPalabraClave: unMensaje DeCanal: unCanal	(self seEncuentraPalabraClaveEn: unMensaje) & ((canalesAsociados includesAnyOf: canalesPausados)not) ifTrue:[		self agregarMensaje: unMensaje ].! !!Usuario methodsFor: 'adding' stamp: 'Andoni 10/17/2019 14:19'!agregarPalabraClave: unaPalabra	palabrasClave add: unaPalabra.! !!Usuario methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 11:11'!getNombre	^( nombre ).! !!Usuario methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 09:50'!getMensaje	^( formatoDeMensaje formatearColeccion: mensajeRecibido ).! !!Usuario methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 14:27'!seEncuentraPalabraClaveEn: unMensaje	| listaDeMensaje seEncuentra|	listaDeMensaje := unMensaje splitOn: ' '.		seEncuentra := palabrasClave anySatisfy: [ :unaPalabra | (listaDeMensaje includes: unaPalabra)  ].		^( seEncuentra ).! !!Usuario methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 10:10'!getMensajeConLongitud: unaLongitud	^( formatoDeMensaje formatearColeccion: mensajeRecibido conLongitud: unaLongitud ).! !!Usuario methodsFor: 'acccessing' stamp: 'Andoni 10/17/2019 11:10'!setNombre: unNombre	nombre := unNombre.! !!Usuario methodsFor: 'removing' stamp: 'Andoni 10/17/2019 19:30'!eliminarCanalPausado: unCanal	canalesPausados remove: unCanal.! !!Usuario methodsFor: 'initialization' stamp: 'Andoni 10/17/2019 18:58'!initialize	mensajeRecibido := OrderedCollection new.	formatoDeMensaje := FormatoDeMensaje new.	canalesAsociados := OrderedCollection new.	palabrasClave := OrderedCollection new.	canalesPausados := OrderedCollection new.! !